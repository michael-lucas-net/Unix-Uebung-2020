test {
    name    = Hilfeaufruf: Kurzform
    comment = Hilfetext anfordern und ueberpruefen
    type    = param
    cmd       {DUT -h | diff - help.exp}
    expect    {^$}
}


test {
    name    = Hilfeaufruf: Exitcode
    comment = Erwartet einen exitcode von 0 bei korrektem Hilfeaufruf
    type    = param
    cmd       {DUT --help 1>/dev/null && echo "ok"}
    expect    {^ok$}
}

test {
    name    = FAQ-Suche: Aufgabenstellung
    comment = Beispiel aus der Aufgabenstellung
    type    = param
    cmd       {DUT cache/faq.html -s kom | diff faq.exp - }
    expect    {^$}
}

test {
    name    = FAQ-Suche: Aufgabenstellung (CAPS)
    comment = Beispiel aus der Aufgabenstellung mit Caps
    type    = param
    cmd       {DUT cache/faq_caps.html -s kom | diff faq.exp - }
    expect    {^$}
}

test {
    name    = FAQ-Suche: Aufgabenstellung (PLAIN)
    comment = Beispiel aus der Aufgabenstellung mit Plaintext
    type    = param
    cmd       {DUT cache/faq_plain.html -s kom | diff faq.exp - }
    expect    {^$}
}

test {
    name    = FAQ-Suche: Aufgabenstellung (SPACED)
    comment = Beispiel aus der Aufgabenstellung mit Spaces
    type    = param
    cmd       {DUT cache/faq_spaced.html -s kom | diff faq.exp - }
    expect    {^$}
}

test {
    name    = FAQ-Suche: Aufgabenstellung (COMMENTS)
    comment = Beispiel aus der Aufgabenstellung mit Kommentaren
    type    = param
    cmd       {DUT cache/faq_comments.html -s kom | diff faq.exp - }
    expect    {^$}
}

test {
    name    = FAQ-Suche: Aufgabenstellung (COMPACT)
    comment = Beispiel aus der Aufgabenstellung minified
    type    = param
    cmd       {DUT cache/faq_compacted.html -s kom | diff faq.exp - }
    expect    {^$}
}

test {
    name    = FAQ-Suche: leer
    comment = Nicht vorhandenes Suchwort
    type    = param
    cmd       {DUT cache/faq.html -s mpfbrrgl }
    expect    {^$}
}

test {
    name    = Kalender-Ausgabe: leer
    comment = Keine passenden Termine vorhanden
    type    = param
    cmd       {DUT cache/kalender.html -c Montag B }
    expect    {^Gruppe B - montags$}
}

test {
    name    = Kalender-Ausgabe: Aufgabenstellung
    comment = Beispiel aus der Aufgabenstellung
    type    = param
    cmd       {DUT cache/kalender.html -c DiensTag a | diff cal.exp - }
    expect    {^$}
}

test {
    name    = Kalender-Ausgabe: Aufgabenstellung CAPS
    comment = Beispiel aus der Aufgabenstellung mit Caps
    type    = param
    cmd       {DUT cache/kalender_caps.html -c DiensTag a | diff cal.exp - }
    expect    {^$}
}

test {
    name    = Kalender-Ausgabe: Aufgabenstellung COMPACTED
    comment = Beispiel aus der Aufgabenstellung minified
    type    = param
    cmd       {DUT cache/kalender_compacted.html -c DiensTag a | diff cal.exp - }
    expect    {^$}
}

test {
    name    = Kalender-Ausgabe: Aufgabenstellung PLAIN
    comment = Beispiel aus der Aufgabenstellung plain
    type    = param
    cmd       {DUT cache/kalender_plain.html -c DiensTag a | diff cal.exp - }
    expect    {^$}
}

test {
    name    = Kalender-Ausgabe: Aufgabenstellung COMMENTS
    comment = Beispiel aus der Aufgabenstellung mit Kommentaren
    type    = param
    cmd       {DUT cache/kalender_comments.html -c DiensTag a | diff cal.exp - }
    expect    {^$}
}

test {
    name    = Gruppen-Ausgabe: Aufgabenstellung
    comment = Ein Beispiel aus der Aufgabenstellung: Zwei Teilnehmer
    type    = param
    cmd       {DUT cache/gruppen_minimal.html -g 06 | diff grp2.exp - }
    expect    {^$}
}

test {
    name    = Gruppen-Ausgabe: Aufgabenstellung
    comment = Ein Beispiel aus der Aufgabenstellung: Ein Teilnehmer
    type    = param
    cmd       {DUT cache/gruppen_minimal.html -g 12 | diff grp1.exp - }
    expect    {^$}
}

test {
    name    = Gruppen-Ausgabe: Aufgabenstellung CAPS
    comment = Ein Beispiel aus der Aufgabenstellung: CAPS
    type    = param
    cmd       {DUT cache/gruppen_minimal.html -g 06 | diff grp2.exp - }
    expect    {^$}
}

test {
    name    = Gruppen-Ausgabe: Aufgabenstellung SPACED
    comment = Ein Beispiel aus der Aufgabenstellung: SPACED
    type    = param
    cmd       {DUT cache/gruppen_spaced.html -g 06 | diff grpSpaced.exp - }
    expect    {^$}
}

test {
    name    = Gruppen-Ausgabe: Aufgabenstellung COMPACTED
    comment = Ein Beispiel aus der Aufgabenstellung: COMPACTED
    type    = param
    cmd       {DUT cache/gruppen_compacted.html -g 06 | diff grpSpaced.exp - }
    expect    {^$}
}

test {
    name    = Gruppen-Ausgabe: Aufgabenstellung MINIMAL
    comment = Ein Beispiel aus der Aufgabenstellung: MINIMAL
    type    = param
    cmd       {DUT cache/gruppen_minimal.html -g 06 | diff grp2.exp - }
    expect    {^$}
}

test {
    name    = Gruppen-Ausgabe: Aufgabenstellung MINIMAL
    comment = Ein Beispiel aus der Aufgabenstellung: MINIMAL
    type    = param
    cmd       {DUT cache/gruppen_plain.html -g 06 | diff grpSpaced.exp - }
    expect    {^$}
}

test {
    name    = Gruppen-Ausgabe: Aufgabenstellung COMMENTS
    comment = Ein Beispiel aus der Aufgabenstellung: COMMENTS
    type    = param
    cmd       {DUT cache/gruppen_comments.html -g 06 | diff grpSpaced.exp - }
    expect    {^$}
}

test {
    name    = Gruppen-Ausgabe: leer
    comment = Keine passende Gruppe vorhanden
    type    = param
    cmd       {DUT cache/gruppen_minimal.html -g 99 }
    expect    {^$}
}

